<div class="visit-page-container">
  <div class="preloader" *ngIf="showPreloader">
    <div id="particles-js" class="particles"></div>
    <div class="preloader-content">
      <img src="https://images.unsplash.com/photo-1611068815476-7d6938423e37" alt="Ustagram Logo" class="preloader-logo">
      <h1 class="preloader-title">Ustagram</h1>
      <p class="preloader-subtitle">Xush kelibsiz! O'zbek ijtimoiy inqilobiga qo'shiling</p>
      <button class="start-button" (click)="startExperience()">Boshlash</button>
    </div>
  </div>

  <div class="chat-section" *ngIf="showChat">
    <div class="phone-mockup">
      <div class="phone-screen">
        <div class="chat-message" *ngFor="let message of chatMessages; let i = index" [ngClass]="message.sender" [@messageAnimation]="message.state">
          <img *ngIf="message.avatar" [src]="message.avatar" class="chat-avatar">
          <p>{{ message.text }}</p>
        </div>
        <div class="typing-indicator" *ngIf="showTyping">...</div>
      </div>
    </div>
    <button class="explore-button" *ngIf="showExploreButton" (click)="showMainPage()">Kashf qilish</button>
  </div>

  <div class="main-page" *ngIf="showMain">
    <section class="hero-section">
      <video autoplay muted loop class="background-video">
        <source src="https://assets.mixkit.co/videos/preview/mixkit-aerial-view-of-a-city-during-the-night-48273-large.mp4" type="video/mp4">
        Brauzeringiz video teglarni qo'llab-quvvatlamaydi.
      </video>
      <div class="video-overlay">
        <div class="video-icons">
          <fa-icon [icon]="faHeart" class="video-icon" title="Yoqtirish va ulashish"></fa-icon>
          <fa-icon [icon]="faCamera" class="video-icon" title="Fotosuratlarni ulashish"></fa-icon>
          <fa-icon [icon]="faUsers" class="video-icon" title="Jamoaga qo'shilish"></fa-icon>
          <fa-icon [icon]="faStar" class="video-icon" title="Kontentni baholash"></fa-icon>
          <fa-icon [icon]="faSearch" class="video-icon" title="Trendlar kashf qilish"></fa-icon>
          <fa-icon [icon]="faComment" class="video-icon" title="Fikr bildiring va bog'laning"></fa-icon>
        </div>
        <h1 class="hero-title">O'zbek ruhida ulashing</h1>
        <p class="hero-subtitle">O'zbek ruhi bilan jonli ijtimoiy platformani kashf qiling</p>
        <a href="https://ustagram.uz" class="hero-cta">Ustagramga hozir qo'shiling</a>
      </div>
    </section>

    <section class="carousel-section">
      <h2 class="section-title">Ustagram xususiyatlarini kashf qiling</h2>
      <div class="carousel" #carousel>
        <div class="carousel-item" *ngFor="let slide of carouselSlides; let i = index" [ngClass]="{ active: i === currentSlide }">
          <img [src]="slide.image" [alt]="slide.alt" class="carousel-image">
          <p class="carousel-caption">{{ slide.caption }}</p>
        </div>
      </div>
      <button class="carousel-nav prev" (click)="prevSlide()">❮</button>
      <button class="carousel-nav next" (click)="nextSlide()">❯</button>
    </section>

    <section class="features-section">
      <h2 class="section-title">Nega Ustagramni tanlash kerak?</h2>
      <div class="features-grid">
        <div class="feature-card" *ngFor="let feature of features">
          <img [src]="feature.image" [alt]="feature.title" class="feature-image">
          <fa-icon [icon]="feature.icon" class="feature-icon"></fa-icon>
          <h3>{{ feature.title }}</h3>
          <p>{{ feature.description }}</p>
        </div>
      </div>
    </section>

    <section class="stats-section">
      <h2 class="section-title">Ustagram raqamlarda</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <fa-icon [icon]="faUsers" class="stat-icon"></fa-icon>
          <h3 class="stat-number" data-target="100000">{{ stats.users | number }}</h3>
          <p>Foydalanuvchilar</p>
        </div>
        <div class="stat-card">
          <fa-icon [icon]="faCamera" class="stat-icon"></fa-icon>
          <h3 class="stat-number" data-target="500000">{{ stats.posts | number }}</h3>
          <p>Ulashilgan postlar</p>
        </div>
        <div class="stat-card">
          <fa-icon [icon]="faComment" class="stat-icon"></fa-icon>
          <h3 class="stat-number" data-target="1000000">{{ stats.comments | number }}</h3>
          <p>Fikrlar</p>
        </div>
      </div>
    </section>

    <section class="faq-section">
      <h2 class="section-title">Ko'p so'raladigan savollar</h2>
      <div class="faq-grid">
        <div class="faq-item" *ngFor="let faq of faqs">
          <div class="faq-question" (click)="toggleFaq(faq)">
            <h3>{{ faq.question }}</h3>
            <fa-icon [icon]="faq.expanded ? faChevronUp : faChevronDown" class="faq-icon"></fa-icon>
          </div>
          <div class="faq-answer" *ngIf="faq.expanded">
            <p>{{ faq.answer }}</p>
          </div>
        </div>
      </div>
    </section>

    <section class="newsletter-section">
      <div class="newsletter-content">
        <h2 class="section-title">Ustagram yangiliklaridan xabardor bo'ling</h2>
        <p>Eng so'nggi yangiliklar va maxsus takliflar uchun obuna bo'ling.</p>
        <div class="newsletter-form">
          <input type="email" [(ngModel)]="newsletterEmail" (input)="validateEmail()" placeholder="E-pochtangizni kiriting" class="newsletter-input">
          <button (click)="subscribeNewsletter()" [disabled]="!isEmailValid" class="newsletter-button">Obuna bo'lish</button>
          <p class="newsletter-error" *ngIf="emailError">{{ emailError }}</p>
        </div>
      </div>
    </section>

    <section class="team-section">
      <h2 class="section-title">Bizning jamoamiz bilan tanishing</h2>
      <div class="team-grid">
        <div class="team-card" *ngFor="let member of team">
          <img [src]="member.image" [alt]="member.name" class="team-image">
          <h3>{{ member.name }}</h3>
          <p class="team-role">{{ member.role }}</p>
          <p>{{ member.bio }}</p>
        </div>
      </div>
    </section>

    <section class="testimonials-section">
      <h2 class="section-title">Foydalanuvchilarimiz nima deydi</h2>
      <div class="testimonials-grid">
        <div class="testimonial-card" *ngFor="let testimonial of testimonials">
          <p class="testimonial-text">“{{ testimonial.text }}”</p>
          <p class="testimonial-author">{{ testimonial.author }}</p>
        </div>
      </div>
    </section>

    <footer class="footer-section">
      <div class="footer-content">
        <img src="https://images.unsplash.com/photo-1611068815476-7d6938423e37" alt="Ustagram Logo" class="footer-logo">
        <h3>Ustagram</h3>
        <p>O'zbek madaniyati va ijodkorligi orqali dunyo bilan bog'laning</p>
        <div class="social-icons">
          <a href="https://instagram.com/ustagram" target="_blank"><fa-icon [icon]="faInstagram"></fa-icon></a>
          <a href="https://twitter.com/ustagram" target="_blank"><fa-icon [icon]="faTwitter"></fa-icon></a>
          <a href="https://facebook.com/ustagram" target="_blank"><fa-icon [icon]="faFacebook"></fa-icon></a>
          <a href="https://t.me/ustagram" target="_blank"><fa-icon [icon]="faTelegram"></fa-icon></a>
        </div>
        <a href="https://ustagram.uz" class="footer-cta">Jamoaga qo'shiling</a>
      </div>
    </footer>

    <a href="https://ustagram.uz" class="floating-button">Ustagram platformasiga tashrif buyuring</a>
  </div>
</div>